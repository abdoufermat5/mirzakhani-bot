<!DOCTYPE html>
<head>
  <title>OpenAI Quickstart</title>
  <link
    rel="shortcut icon"
    href="{{ url_for('static', filename='mirzakhani.jpg') }}"
  />
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

</head>

<body>
  <img src="{{ url_for('static', filename='mirzakhani.jpg') }}" width="150" />
  <h3>Ask me everything</h3>
  <form action="/" method="post">
    <input type="text" name="question" placeholder="Ask a question" required />
    <input type="submit" value="Ask" />
  </form>
  {% if result %}
  <div class="card border-0 result">
    <div class="card-header border-0">
      <h5 class="card-title">Answer</h5>
    </div>
    <div class="card-body">
      <p class="card-text">{{ result }}</p>
    </div>
  </div>
  {% endif %}
  <br/>
  <br/>
  <hr/>
  <hr/>

      <div class="card text-center border-0">
        <div>
          <h3 class="card-header border-0">Previous Answers</h3>
        </div>
        <div class="card-body">
          <div class="row">
            {% for elt in all_answers %}
              <!-- If all_answers is empty -->
              {% if not all_answers %}
                <div class="col col-12 card card-inner bg-danger">
                  <h5 class="card-header border-0">No previous answers</h5>
                </div>
              {% endif %}
              <div class="col col-12 card card-inner bg-green">
                <h5 class="card-header border-0">{{ elt.question }}</h5>
                <div class="card-body border-0">
                  <p class="card-text text-left">{{ elt.answer }}</p>
                </div>
                <div class="card-footer text-muted">
                  {{ elt.created_at|time_ago }} ago
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
    </div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</body>
